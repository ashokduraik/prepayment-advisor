<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="defaultHref"></ion-back-button>
    </ion-buttons>
    <ion-title>
      EMI Calculator
    </ion-title>
  </ion-toolbar>
</ion-header>Â 

<ion-content [fullscreen]="true">
  <ion-list lines="none" style="border: none;">

    <span class="label">Loan Amount</span>
    <ion-input [(ngModel)]="amount" type="number" placeholder="500000" autofocus="true" amountInput (keyup)="doCalc()">
    </ion-input>

    <span class="label">Enter Rate of Interest per year</span>
    <ion-input [(ngModel)]="interestRate" type="number" placeholder="8" (keyup)="doCalc()"></ion-input>

    <span class="label">Enter EMI amount</span>
    <ion-input [(ngModel)]="emi" type="number" placeholder="7000" (keyup)="emiChanged()" amountInput></ion-input>

    <span class="label">Term (Months)</span>
    <ion-input [(ngModel)]="term" type="number" placeholder="98" (keyup)="termChanged()"></ion-input>

    <span class="label">Term (Years)</span>
    <ion-input [(ngModel)]="termInYear" type="number" placeholder="8.17" (keyup)="yearChanged()"></ion-input>

  </ion-list>

  <ion-card *ngIf="calculationDone" class="speaker-card">
    <ion-card-header color="primary">
      <ion-grid>
        <ion-row>
          <ion-col>
            <div>Total Interest Payable</div>
            <h2>{{ interest | appCurrency: '' }}</h2>
          </ion-col>
          <ion-col>
            <div>Total Interest Payable %</div>
            <h2>{{interestPercentage}}%</h2>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-header>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col class="ion-align-self-start">
            Total Payment
            <br>(Principal + Interest)
          </ion-col>
          <ion-col size="5" class="ion-align-self-end">
            {{ totalAmount | appCurrency: '' }}
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-row>
        <ion-col class="ion-align-self-start">
          Loan Tenure
        </ion-col>
        <ion-col size="5" class="ion-align-self-end">
          {{ term | monthToYear }}
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
</ion-content>